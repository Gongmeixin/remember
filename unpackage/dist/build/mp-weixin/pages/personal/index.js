"use strict";const t=require("../../common/vendor.js"),e={data:()=>({text:"我的",statusBarHeight:0,studyNum:0,reviewNum:0,userInfo:{avatarUrl:"../../static/image/logo.png",nickName:"昵称"},isShowLoginButton:!0}),methods:{goTestDetail(){t.index.navigateTo({url:"testDatile/testDatile"})},goD_TestDetail(){t.index.navigateTo({url:"D_testDetail/D_testDetail"})},goPersonalInfo(){this.isShowLoginButton?t.index.showToast({title:"您未登录，请先登录！",icon:"none",duration:2e3}):t.index.navigateTo({url:"personalInfo/personalInfo"})},weixinLogin(){t.index.navigateTo({url:"../../components/login/login"})},getStatusBarHeight(){var e=t.index.getSystemInfoSync();this.statusBarHeight=e.statusBarHeight,console.log(this.statusBarHeight)},getUserInfo(e){t.Ds.callFunction({name:"getUserInfo",data:{openid:e}}).then((t=>{console.log(t.result.data[0]),null!=t.result.data[0]&&(this.userInfo.avatarUrl=t.result.data[0].avatarUrl,console.log(this.userInfo.avatarUrl),this.userInfo.nickName=t.result.data[0].nickName,this.isShowLoginButton=!1)}))}},onShow(){this.getStatusBarHeight();let e=this;t.index.getStorage({key:"openid",success(t){console.log(t.data),e.getUserInfo(t.data)},fail(t){console.log(t.errMsg),e.isShowLoginButton=!0}})}};if(!Array){t.resolveComponent("uni-icons")()}Math;const o=t._export_sfc(e,[["render",function(e,o,a,n,i,s){return t.e({a:i.statusBarHeight+"px",b:t.t(i.text),c:i.userInfo.avatarUrl,d:t.t(i.userInfo.nickName),e:i.isShowLoginButton},i.isShowLoginButton?{f:t.o(((...t)=>s.weixinLogin&&s.weixinLogin(...t)))}:{},{g:t.t(i.studyNum),h:t.t(i.reviewNum),i:t.p({type:"forward",size:"30"}),j:t.o(((...t)=>s.goTestDetail&&s.goTestDetail(...t))),k:t.p({type:"forward",size:"30"}),l:t.o(((...t)=>s.goD_TestDetail&&s.goD_TestDetail(...t))),m:t.p({type:"forward",size:"30"}),n:t.o((t=>s.goPersonalInfo()))})}]]);wx.createPage(o);
